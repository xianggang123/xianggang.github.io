<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">

<title>向同学</title>
<style>
	*{margin: 0;padding: 0;}
	li{
		list-style: none;
	}
	#wrap{
		margin: 100px auto 0;
		width: 200px;
		border: 2px dotted #ddd;
		border-bottom: none;
	}
	#wrap li{
		width: 100%;
		height: 50px;
		line-height: 50px;
		border-bottom: 2px dotted #ddd;
	}
	#wrap li img{
		vertical-align: middle;
		padding-left: 10px;
	}
	#box{
		margin:auto;
		width: 200px;
	}
	#box .active{
		background-color: #f66;
	}
</style>
</head>
<body>
	<ul id="wrap">
		<li><img src="img/ck.png"> option1</li>
		<li><img src="img/ck.png">option2</li>
		<li><img src="img/ck.png">option3</li>
		<li><img src="img/ck.png">option4</li>
		<li><img src="img/ck.png">option5</li>
		<li><img src="img/ck.png">option6</li>
		<li><img src="img/ck.png">option7</li>
	</ul>
	<div id="box">
		<button>全选</button>
		<button class="active">全不选</button>
		<button>反选</button>
	</div>
   <script>
   	let oWrap = document.getElementById("wrap"),
   		aLi = oWrap.getElementsByTagName("li"),
   		aImg = oWrap.getElementsByTagName("img"),
   		oBox = document.getElementById("box"),
   		aBtn = oBox.getElementsByTagName("button"),
   		count = 0,
   		len =aLi.length;
   		
   		for(let i=0; i<len; i++){
   			aLi[i].bool=false;//表示为未勾选状态
   			 aLi[i].onclick = function(){
   					if (this.bool) {
   					aImg[i].src = "img/ck.png";
   					this.bool = false;
   					count--;
   				}
   				 else {
   				 	aImg[i].src = "img/cked.jpg";
   					this.bool = true;
   					count++;
   				}
   				isSelect();
   			}

   		}
   		//全选
   		aBtn[0].onclick = function(){
   			for(let i=0; i<len; i++){
   				aImg[i].src = "img/cked.jpg";
   				aLi[i].bool = true;
   			}
   			count =len;
   			isSelect();
   		}
   		//全不选
   		aBtn[1].onclick = function(){
   			for(let i=0; i<len; i++){	
   				aImg[i].src = "img/ck.PNg";
   				aLi[i].bool = false;
   			}
   			count =0;
   			isSelect();
   		}
   		//反选
   		aBtn[2].onclick = function(){
   			for(let i=0; i<len; i++){
   				if (aLi[i].bool) {
   					aImg[i].src = "img/ck.png";
   					aLi[i].bool = false;
   					count--;
   				}
   				 else {
   				 	aImg[i].src = "img/cked.jpg";
   					aLi[i].bool = true;
   					count++;
   				}
   			}
   			isSelect();
   		}
   		function isSelect(){
   			switch (count) {
   				case 0:
   					aBtn[1].classList.add("active");
   					aBtn[0].classList.remove("active");
   					break;
   				case len:
   						aBtn[0].classList.add("active");
   						aBtn[1].classList.remove("active");
   					break;
   				default:
   						aBtn[0].classList.remove("active");
   						aBtn[1].classList.remove("active");
   					break;
   			}
   		}

   </script>
</body>
</html>